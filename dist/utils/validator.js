"use strict";exports.__esModule=true;exports.Validator=exports.isInstanceOf=void 0;var _math=require("./math");const isInstanceOf=({variable,type})=>variable&&type&&variable instanceof type;exports.isInstanceOf=isInstanceOf;class Validator{constructor(name){const validate=options=>{const[variable,type]=Object.keys(options).filter(key=>key!="expects");let caller="";const regex=/([^(]+)@|at ([^(]+) \(/igms;const matches=[...String(new Error().stack).matchAll(regex)];for(const i in matches){if(i==0)continue;caller=matches[i][2]||matches[i][3];if(caller.indexOf("Function")==0)caller=caller.replace("Function",name);break}let passed=false;if(!type){const value=Object.values(options)[0];passed=value!==null&&value!=false}else if(type.toLowerCase()=="number"){console.log(typeof Object.values(options)[0]);passed=(0,_math.isNumber)(Object.values(options)[0])}else{passed=isInstanceOf(...Object.values(options))}if(!passed){const expectation=options.expects?options.expects:`"${variable}" to be a ${type}`;const message=`${caller} expects ${expectation}`;throw new TypeError(message)}};return{validate}}}exports.Validator=Validator;